{% extends "base.html" %}

{% block content %}
<div class="container py-5">
    <h1 class="text-center mb-4">Book a Table</h1>
    
    {% if user.is_authenticated %}
    <form class="col-md-6 mx-auto" method="post">
        {% csrf_token %}
        <input type="text" name="username" class="form-control mb-3" placeholder="Your Name" value="{{ username }}" readonly>
        <input type="date" name="date" class="form-control mb-3">
        <select name="time_slot" class="form-control mb-3">
            <option value="">Select Time</option>
            {% for slot in time_slots %}
                <option value="{{ slot.time }}">{{ slot.time|time:"H:i" }}</option>
            {% endfor %}
        </select>
        <input type="number" name="table_count" class="form-control mb-3" placeholder="Number of Tables">
        <button class="btn btn-warning w-100">Reserve Now</button>
    </form>
    {% else %}
    <div class="alert alert-info text-center" role="alert">
        Please <a href="{% url 'login' %}">log in</a> to book a table.
    </div>
    {% endif %}
</div>
{% endblock %}